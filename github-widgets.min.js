var gitHubWidgets={base:"https://api.github.com/",el:document.getElementById("github-widget"),org:null,repo:null,type:null,limit:null,buildUrl:function(){this.org=this.org||this.el.getAttribute("data-org");this.repo=this.repo||this.el.getAttribute("data-repo");this.type=this.type||this.el.getAttribute("data-type");this.limit=this.limit||this.el.getAttribute("data-limit")||5;url="repos"==this.type||"events"==this.type&&!this.repo?this.base+"orgs/"+this.org+"/"+this.type:this.base+"repos/"+this.org+
"/"+this.repo+"/"+this.type;return url+="?callback=gitHubWidgets.callback"},addScript:function(){body=document.getElementsByTagName("body")[0];jsonp=document.createElement("script");jsonp.src=this.buildUrl();body.appendChild(jsonp)},callback:function(a){if(200<a.meta.status)return!1;a.data=a.data.slice(0,this.limit);for(i=0;i<a.data.length;i++)"commits"==this.type?this.renderCommit(a.data[i]):"repos"==this.type?this.renderRepo(a.data[i]):"events"==this.type&&this.renderEvent(a.data[i])},authorUrl:function(a){return a.replace("https://api.github.com/users/",
"https://github.com/")},repoUrl:function(a){return a.replace("https://api.github.com/repos/","https://github.com/")},renderCommit:function(a){commit_url="http://github.com/"+this.org+"/"+this.repo+"/commits/"+a.sha;committer_url=this.authorUrl(a.committer.url);li=document.createElement("li");li.innerHTML='<a href="'+commit_url+'">'+a.commit.message+"</a>";li.innerHTML+=' by <a href="'+committer_url+'">'+a.commit.author.name+"</a>";li.innerHTML+=" - "+relativeDate(new Date(a.commit.author.date));this.el.appendChild(li)},
renderRepo:function(a){li=document.createElement("li");li.innerHTML='<a href="'+a.html_url+'">'+a.name+"</a>";li.innerHTML+='<span class="meta"> - ';li.innerHTML+='<span class="stars">stars: '+a.watchers+"</span>";li.innerHTML+=', <span class="forks">forks: '+a.forks+"</span>";li.innerHTML+="</span>";this.el.appendChild(li)},renderEvent:function(a){li=document.createElement("li");switch(a.type){case "WatchEvent":li.innerHTML='<a href="'+this.authorUrl(a.actor.url)+'">'+a.actor.login+"</a>";li.innerHTML+=
" "+a.payload.action+" watching ";li.innerHTML+='<a href="'+this.repoUrl(a.repo.url)+'">'+a.repo.name+"</a>";break;case "IssueCommentEvent":li.innerHTML='<a href="'+this.authorUrl(a.actor.url)+'">'+a.actor.login+"</a>";li.innerHTML+=" "+a.payload.action+" issue ";li.innerHTML+='<a href="'+a.payload.issue.html_url+'">'+a.payload.issue.title+"</a>";break;case "ForkEvent":li.innerHTML='<a href="'+this.authorUrl(a.actor.url)+'">'+a.actor.login+"</a>";li.innerHTML+=" forked repo ";li.innerHTML+='<a href="'+
this.repoUrl(a.repo.url)+'">'+a.repo.name+"</a>";break;default:li=null}li&&this.el.appendChild(li)}};gitHubWidgets.addScript();
var relativeDate=function(a){var f=[[42E3,"just now"],[9E4,"a minute ago"],[36E5,"minutes ago",6E4],[54E5,"an hour ago"],[864E5,"hours ago",36E5],[1728E5,"yesterday"],[6048E5,"days ago",864E5],[9072E5,"a week ago"],[2628E6,"weeks ago",6048E5],[3942E6,"a month ago"],[31536E6,"months ago",2628E6],[47304E6,"a year ago"],[Number.MAX_VALUE,"years ago",31536E6]];return function(d,b){!b&&(b=(new Date).getTime());b instanceof Date&&(b=b.getTime());d instanceof Date&&(d=d.getTime());var g=b-d,c,e,h;e=-1;for(h=
f.length;++e<h;)if(c=f[e],g<c[0])return c[2]==a?c[1]:Math.round(g/c[2])+" "+c[1]}}();