var gitHubWidgets={base:"https://api.github.com/",el:document.getElementById("github-widget"),org:null,repo:null,type:null,limit:null,buildUrl:function(){this.org=this.org||this.el.getAttribute("data-org");this.repo=this.repo||this.el.getAttribute("data-repo");this.type=this.type||this.el.getAttribute("data-type");this.limit=this.limit||this.el.getAttribute("data-limit")||5;url="repos"==this.type||"events"==this.type&&!this.repo?this.base+"orgs/"+this.org+"/"+this.type:this.base+"repos/"+this.org+
"/"+this.repo+"/"+this.type;return url+="?callback=gitHubWidgets.callback"},addScript:function(){url=this.buildUrl();"events"==this.type&&"undefined"==typeof window.githubSentences&&(body=document.getElementsByTagName("body")[0],js=document.createElement("script"),js.src="https://raw.github.com/adamjacobbecker/github-sentences/master/js/github-sentences.js",body.appendChild(js),document.write("<style>.github-sentence-item { padding: 5px 0 5px 55px; position: relative; min-height: 50px;}.github-sentence-item .avatar { position: absolute; left: 0; top: 2px; border: 1px solid #d0d0d0; padding: 2px;}.github-sentence-item .avatar img { width: 40px; height: 40px;} #github-widget { list-style: none; }</style>"));
body=document.getElementsByTagName("body")[0];jsonp=document.createElement("script");jsonp.src=url;body.appendChild(jsonp)},callback:function(a){if(200<a.meta.status)return!1;a.data=a.data.slice(0,this.limit);for(i=0;i<a.data.length;i++)"commits"==this.type?this.renderCommit(a.data[i]):"repos"==this.type?this.renderRepo(a.data[i]):"events"==this.type&&this.renderEvent(a.data[i])},authorUrl:function(a){return a.replace("https://api.github.com/users/","https://github.com/")},repoUrl:function(a){return a.replace("https://api.github.com/repos/",
"https://github.com/")},renderCommit:function(a){commit_url="http://github.com/"+this.org+"/"+this.repo+"/commits/"+a.sha;committer_url=this.authorUrl(a.committer.url);li=document.createElement("li");li.innerHTML='<a href="'+commit_url+'">'+a.commit.message+"</a>";li.innerHTML+=' by <a href="'+committer_url+'">'+a.commit.author.name+"</a>";li.innerHTML+=" - "+relativeDate(new Date(a.commit.author.date));this.el.appendChild(li)},renderRepo:function(a){li=document.createElement("li");li.innerHTML='<a href="'+
a.html_url+'">'+a.name+"</a>";li.innerHTML+='<span class="meta"> - ';li.innerHTML+='<span class="stars">stars: '+a.watchers+"</span>";li.innerHTML+=', <span class="forks">forks: '+a.forks+"</span>";li.innerHTML+="</span>";this.el.appendChild(li)},renderEvent:function(a){li=document.createElement("li");li.innerHTML=githubSentences.convert(a);li.innerHTML=li.innerHTML.replace(/<div class=\"timestamp\">([^<]+)<\/div>/gi,function(a,b){return relativeDate(new Date(b))});li&&this.el.appendChild(li)}};gitHubWidgets.addScript();
var relativeDate=function(a){var f=[[42E3,"just now"],[9E4,"a minute ago"],[36E5,"minutes ago",6E4],[54E5,"an hour ago"],[864E5,"hours ago",36E5],[1728E5,"yesterday"],[6048E5,"days ago",864E5],[9072E5,"a week ago"],[2628E6,"weeks ago",6048E5],[3942E6,"a month ago"],[31536E6,"months ago",2628E6],[47304E6,"a year ago"],[Number.MAX_VALUE,"years ago",31536E6]];return function(b,c){!c&&(c=(new Date).getTime());c instanceof Date&&(c=c.getTime());b instanceof Date&&(b=b.getTime());var g=c-b,d,e,h;e=-1;for(h=
f.length;++e<h;)if(d=f[e],g<d[0])return d[2]==a?d[1]:Math.round(g/d[2])+" "+d[1]}}();